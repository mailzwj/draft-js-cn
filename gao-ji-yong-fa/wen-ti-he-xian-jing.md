## 问题和陷阱

本节主要记录一些我们在Facebook使用Draft编辑器组件时已经遇到过的一些已知问题和常见陷阱。

### 常见陷阱

#### 状态更新被延迟

单项数据传输的一种常见模式是使用`setTimeout`或其他机制对存储的数据进行批量处理或以其他方式延迟更新。存储的数据被更新后，将变更发送给相关的React组件触发重新渲染。

然而，当在React应用中使用Draft编辑器出现延迟问题时，可能会造成严重的体验问题。这也是编辑器内容的更新和渲染希望与用户的输入行为保持同步的原因。延迟可以阻止通过编辑器组件树传播更新，这可能导致按键点击与内容更新不连续。

